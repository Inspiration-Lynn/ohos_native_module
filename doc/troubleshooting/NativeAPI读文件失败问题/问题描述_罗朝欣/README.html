<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Openharmony &#x95ee;&#x9898;&#x63cf;&#x8ff0;</title>
        <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

/* From extension vscode.markdown-math */
@font-face{font-family:KaTeX_AMS;font-style:normal;font-weight:400;src:url(fonts/KaTeX_AMS-Regular.woff2) format("woff2"),url(fonts/KaTeX_AMS-Regular.woff) format("woff"),url(fonts/KaTeX_AMS-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Caligraphic-Bold.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Bold.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Caligraphic-Regular.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Regular.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Fraktur-Bold.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Bold.woff) format("woff"),url(fonts/KaTeX_Fraktur-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Fraktur-Regular.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Regular.woff) format("woff"),url(fonts/KaTeX_Fraktur-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Main-Bold.woff2) format("woff2"),url(fonts/KaTeX_Main-Bold.woff) format("woff"),url(fonts/KaTeX_Main-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Main-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Main-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Main-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Main-Italic.woff2) format("woff2"),url(fonts/KaTeX_Main-Italic.woff) format("woff"),url(fonts/KaTeX_Main-Italic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Main-Regular.woff2) format("woff2"),url(fonts/KaTeX_Main-Regular.woff) format("woff"),url(fonts/KaTeX_Main-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Math-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Math-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Math-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Math-Italic.woff2) format("woff2"),url(fonts/KaTeX_Math-Italic.woff) format("woff"),url(fonts/KaTeX_Math-Italic.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:700;src:url(fonts/KaTeX_SansSerif-Bold.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Bold.woff) format("woff"),url(fonts/KaTeX_SansSerif-Bold.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:italic;font-weight:400;src:url(fonts/KaTeX_SansSerif-Italic.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Italic.woff) format("woff"),url(fonts/KaTeX_SansSerif-Italic.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:400;src:url(fonts/KaTeX_SansSerif-Regular.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Regular.woff) format("woff"),url(fonts/KaTeX_SansSerif-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Script;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Script-Regular.woff2) format("woff2"),url(fonts/KaTeX_Script-Regular.woff) format("woff"),url(fonts/KaTeX_Script-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size1;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size1-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size1-Regular.woff) format("woff"),url(fonts/KaTeX_Size1-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size2;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size2-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size2-Regular.woff) format("woff"),url(fonts/KaTeX_Size2-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size3;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size3-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size3-Regular.woff) format("woff"),url(fonts/KaTeX_Size3-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size4;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size4-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size4-Regular.woff) format("woff"),url(fonts/KaTeX_Size4-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Typewriter;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Typewriter-Regular.woff2) format("woff2"),url(fonts/KaTeX_Typewriter-Regular.woff) format("woff"),url(fonts/KaTeX_Typewriter-Regular.ttf) format("truetype")}.katex{text-rendering:auto;font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0}.katex *{-ms-high-contrast-adjust:none!important;border-color:currentColor}.katex .katex-version:after{content:"0.13.24"}.katex .katex-mathml{clip:rect(1px,1px,1px,1px);border:0;height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .vbox{align-items:baseline;display:inline-flex;flex-direction:column}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{max-width:0;width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid;display:inline-block;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.katex svg path{stroke:none}.katex img{border-style:none;max-height:none;max-width:none;min-height:0;min-width:0}.katex .stretchy{display:block;overflow:hidden;position:relative;width:100%}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{overflow:hidden;position:relative;width:100%}.katex .halfarrow-left{left:0;overflow:hidden;position:absolute;width:50.2%}.katex .halfarrow-right{overflow:hidden;position:absolute;right:0;width:50.2%}.katex .brace-left{left:0;overflow:hidden;position:absolute;width:25.1%}.katex .brace-center{left:25%;overflow:hidden;position:absolute;width:50%}.katex .brace-right{overflow:hidden;position:absolute;right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{border-right:.049em solid;border-top:.049em solid;box-sizing:border-box;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{content:"(" counter(katexEqnNo) ")";counter-increment:katexEqnNo}.katex .mml-eqn-num:before{content:"(" counter(mmlEqnNo) ")";counter-increment:mmlEqnNo}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;left:calc(50% + .3em);position:absolute;text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{padding-left:2em;text-align:left}body{counter-reset:katexEqnNo mmlEqnNo}

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.katex-error {
	color: var(--vscode-editorError-foreground);
}

/* From extension ms-toolsai.jupyter */
/* These classnames are inherited from bootstrap, but are present in most notebook renderers */

.alert {
    width: auto;
    padding: 1em;
    margin-top: 1em;
    margin-bottom: 1em;
}
.alert > *:last-child {
    margin-bottom: 0;
}
#preview > .alert:last-child {
    /* Prevent this being set to zero by the default notebook stylesheet */
    padding-bottom: 1em;
}

.alert-success {
    /* Note there is no suitable color available, so we just copy "info" */
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-info {
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-warning {
    background-color: var(--theme-warning-background);
    color: var(--theme-warning-foreground);
}
.alert-danger {
    background-color: var(--theme-error-background);
    color: var(--theme-error-foreground);
}

</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
    </head>
    <body class="vscode-body vscode-light">
        <h1 id="openharmony-问题描述">Openharmony 问题描述</h1>
<ul>
<li><a href="#openharmony-%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0">Openharmony 问题描述</a>
<ul>
<li><a href="#%E9%A1%B9%E7%9B%AE%E7%9B%AE%E6%A0%87">项目目标</a></li>
<li><a href="#%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83">系统环境</a></li>
<li><a href="#%E9%97%AE%E9%A2%981-napi%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E8%AE%BF%E9%97%AE%E7%B3%BB%E7%BB%9F%E8%B7%AF%E5%BE%84%E4%B8%8B%E6%96%87%E4%BB%B6">问题1： NAPI无法正常访问系统路径下文件</a>
<ul>
<li><a href="#napi%E4%BB%A3%E7%A0%81%E6%9E%84%E9%80%A0-1">NAPI代码构造 1</a>
<ul>
<li><a href="#1-yolocpp">1. yolo.cpp</a></li>
<li><a href="#2-yoloh">2. yolo.h</a></li>
<li><a href="#3-native_module_yolocpp">3. native_module_yolo.cpp</a></li>
</ul>
</li>
<li><a href="#hap-%E4%BB%A3%E7%A0%81%E6%9E%84%E9%80%A0">HAP 代码构造</a></li>
<li><a href="#%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C">程序运行结果</a></li>
</ul>
</li>
<li><a href="#%E9%97%AE%E9%A2%982js-api%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E8%AE%BF%E9%97%AE%E4%B8%8A%E4%B8%8B%E6%96%87%E5%8F%8A%E7%B3%BB%E7%BB%9F%E8%B7%AF%E5%BE%84">问题2：JS API无法正常访问上下文及系统路径</a>
<ul>
<li><a href="#%E5%A4%A7%E8%87%B4%E6%8F%8F%E8%BF%B0">大致描述</a></li>
<li><a href="#31-release">3.1 Release</a>
<ul>
<li><a href="#1-ability%E4%B8%8A%E4%B8%8B%E6%96%87context">1. Ability上下文（context）</a></li>
<li><a href="#2-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86fileio">2. 文件管理（fileio）</a></li>
<li><a href="#3-%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8file">3. 文件存储（file）</a></li>
<li><a href="#4-%E4%B8%80%E6%AC%A1%E8%BE%83%E5%AE%8C%E6%95%B4%E7%9A%84%E5%90%AF%E5%8A%A8%E8%AE%B0%E5%BD%95">4. 一次较完整的启动记录</a></li>
</ul>
</li>
<li><a href="#32-beta">3.2 beta</a>
<ul>
<li><a href="#1-ability%E4%B8%8A%E4%B8%8B%E6%96%87context-1">1. Ability上下文（context）</a></li>
<li><a href="#2-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86fileio-1">2. 文件管理（fileio）</a></li>
<li><a href="#3-%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8file-1">3. 文件存储（file）</a></li>
<li><a href="#4-%E8%BE%83%E5%AE%8C%E6%95%B4%E7%9A%84%E5%90%AF%E5%8A%A8%E8%AE%B0%E5%BD%95">4. 较完整的启动记录</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E5%85%B6%E4%BB%96">其他</a></li>
</ul>
</li>
</ul>
<p>近期在使用Openharmony 3.1 Release版本过程中，出现了无法正常访问系统路径及读写文件的问题，以下就目标和产生问题原因进行描述：</p>
<h2 id="项目目标">项目目标</h2>
<p>我们为了在OHOS 3.1 Release下编写支持目标检测的视觉应用，采取了OpenCV库 + ark NAPI + HAP包的形式，通过实现Yolo算法的NAPI接口，为HAP应用提供调用目标检测的能力。其中OpenCV库可以通过拷贝放入系统/lib64中，ark NAPI库通过编译得到的库放在/lib64/module下，HAP包使用ServiceAbility来实现算法调用过程，使用Deveco签名并编译得到Release版本，通过下载到系统中，使用bm安装，aa启动。</p>
<h2 id="系统环境">系统环境</h2>
<ul>
<li>
<p>文件系统 OHOS 3.1 Release 及 OHOS 3.2 Beta（用于测试）</p>
</li>
<li>
<p>OpenCV库版本4.5.5，交叉编译后放置在/lib64目录下供C++程序调用</p>
</li>
<li>
<p>DevECO版本 3.0.0.800 beta2，使用API版本 7</p>
</li>
<li>
<p>被访问目录均已给和ability进程相同uid的用户组权限</p>
</li>
</ul>
<h2 id="问题1-napi无法正常访问系统路径下文件">问题1： NAPI无法正常访问系统路径下文件</h2>
<p>这里简化代码，给出一个最简测试样例，该方式为通过C++库直接读取系统目录，在通过aa加载ability调用中无法找到目录或文件：</p>
<h3 id="napi代码构造-1">NAPI代码构造 1</h3>
<p>工程目录为OHOS源码根目录下</p>
<p>/foundation/arkui/napi/sample/（3.2beta）
/foundation/ace/napi/sample/（3.1Release）</p>
<p>新建一个native_api目录名为native_module_yolo，附在压缩包中</p>
<h4 id="1-yolocpp">1. yolo.cpp</h4>
<pre><code><code><div>//yolo.cpp
读取系统根目录下yolo文件夹下test.txt文件，

#include &quot;yolo.h&quot;
#include &lt;iostream&gt;
#include &lt;fstream&gt;
// debug 
#include &lt;filesystem&gt;
namespace fs = std::filesystem;
using namespace std;

void helloworld()
{
	ifstream ifs;
	ifs.open(&quot;/yolo/test.txt&quot;, ios::in);
	if (!ifs.is_open())
	{
		HILOG_INFO(&quot;[HIT] Open file failed.&quot;);
		std::exit(0);
	}

	string buf = &quot;&quot;;
	while(getline(ifs, buf))
	{
		cout &lt;&lt; buf &lt;&lt; endl;
	}
	HILOG_INFO(&quot;[HIT] Read file end.&quot;);
	ifs.close();
}
</div></code></code></pre>
<h4 id="2-yoloh">2. yolo.h</h4>
<pre><code><code><div>//yolo.h

void helloworld();
</div></code></code></pre>
<h4 id="3-native_module_yolocpp">3. native_module_yolo.cpp</h4>
<pre><code><code><div>//native_module_yolo.cpp

#include &quot;napi/native_api.h&quot;
#include &quot;napi/native_node_api.h&quot;

#include &quot;yolo.h&quot;

static napi_value YoloHelloworld(napi_env env, napi_callback_info info)
{
	HILOG_INFO(&quot;[HIT] hello world !&quot;);
	helloworld();
	HILOG_INFO(&quot;[HIT] if success will tell&quot;);
	
	return 0;
}

static napi_value YoloExport(napi_env env, napi_value exports)
{
    static napi_property_descriptor desc[] = {
	    DECLARE_NAPI_FUNCTION(&quot;helloworld&quot;, YoloHelloworld),
    };
    NAPI_CALL(env, napi_define_properties(env, exports, sizeof(desc) / sizeof(desc[0]), desc));
    return exports;
}

// yolo module description
static napi_module yoloModule = {
    .nm_version = 1,
    .nm_flags = 0,
    .nm_filename = nullptr,
    .nm_register_func = YoloExport,
    .nm_modname = &quot;yolo&quot;,
    .nm_priv = ((void*)0),
    .reserved = { 0 },
};

// yolo module register
extern &quot;C&quot; __attribute__((constructor)) void RegisterModule(void)
{
    napi_module_register(&amp;yoloModule);
}
</div></code></code></pre>
<p>添加本级BUILD.gn和在上一级BUILD.gn中添加该编译项目，最后编译--build-target=&quot;napi_packages_test&quot;<a href="http://xn--libyolo-5t0lx3kuq2b.z.so">可得到libyolo.z.so</a>,下载到系统/lib64/modules中即可被正常运行时加载。</p>
<h3 id="hap-代码构造">HAP 代码构造</h3>
<p>HAP这里在empty ability模板中新建一个Service Ability，直接在OnCommand生命周期中调用输出的函数即可</p>
<pre><code><code><div>import demo from '@ohos.demo'
import yolo from '@ohos.yolo'

export default {
    async onStart(want)
    {
        console.info('[HIT]ServiceAbility onStart');
        console.info('[HIT]ServiceAbility onStart end');
    },
    onStop()
    {
        console.info('[HIT]ServiceAbility onStop');
    },
    onConnect(want)
    {
        console.info('[HIT]ServiceAbility onConnect');
        return {};
    },
    onReconnect(want)
    {
        console.info('[HIT]ServiceAbility onReconnect');
    },
    onDisconnect()
    {
        console.info('[HIT]ServiceAbility onDisconnect');
    },
    onCommand(want, restart, startId)
    {
        console.info('[HIT]ServiceAbility onCommand');
        console.info('[HIT]add: ' + demo.add(1, 2));

        yolo.helloworld()

        console.info('[HIT]ServiceAbility onCommand end')
    }
};

</div></code></code></pre>
<h3 id="程序运行结果">程序运行结果</h3>
<pre><code><code><div># hilog | grep HIT 
08-05 16:48:58.437   501  1232 I 02f00/HapVerify: VerifyAppSourceAndParseProfile: App signature subject: C=CN, O=HIT, OU=iCube, CN=ohos, issuer: C=CN, O=OpenHarmony, OU=OpenHarmony Team, CN=OpenHarmony Application CA
08-05 16:50:29.078  1908  1916 I 03b00/JSApp: app Log: [HIT]ServiceAbility onStart
08-05 16:50:29.078  1908  1916 I 03b00/JSApp: app Log: [HIT]ServiceAbility onStart end
08-05 16:50:29.079  1908  1916 I 03b00/JSApp: app Log: [HIT]ServiceAbility onCommand
08-05 16:50:29.079  1908  1916 I 03b00/JSApp: app Log: [HIT]add: 3
08-05 16:50:29.079  1908  1916 I 03900/NAPI: [native_module_yolo.cpp(YoloHelloworld)] [HIT] hello world !
08-05 16:50:29.079  1908  1916 I 03900/NAPI: [yolo.cpp(helloworld)] [HIT] Open file failed.
</div></code></code></pre>
<h2 id="问题2js-api无法正常访问上下文及系统路径">问题2：JS API无法正常访问上下文及系统路径</h2>
<h3 id="大致描述">大致描述</h3>
<p>在3.0版本时成功通过编写NAPI，使用JS接口来对系统路径下的目标图片进行检测，但3.1版本后文件管理子系统更新，应用沙箱和隔离等功能的出现，以及默认运行时从quickjs改为ark，貌似导致了应用不能直接访问系统路径的问题，主要体现在以下测试中：</p>
<p>PS：根据官方API文档，均不需要额外声明权限</p>
<h3 id="31-release">3.1 Release</h3>
<h4 id="1-ability上下文context">1. Ability上下文（context）</h4>
<ul>
<li>context.getCacheDir <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-context-0000001155007622#section11170623297">getCacheDir</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\gcdir.png" alt="gcdir"></p>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\gcdirp.png" alt="gcdirp"></p>
<ul>
<li>context.getFilesDir <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-context-0000001155007622#section833813353294">getFilesDir</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\gfdir.png" alt="gfdir"></p>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\gfdirp.png" alt="gfdirp"></p>
<ul>
<li>context.getOrCreateLocalDir <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-context-0000001155007622#section9297053217">getOrCreateLocalDir</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\gocld.png" alt="gocld"></p>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\gocldp.png" alt="gocldp"></p>
<h4 id="2-文件管理fileio">2. 文件管理（fileio）</h4>
<ul>
<li>fileio.access <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-fileio-0000001168366687#section7992924105416">access</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\facc.png" alt="facc"></p>
<ul>
<li>fileio.accessSync <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-fileio-0000001168366687#section9627104782212">accessSync</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\faccs.png" alt="faccs"></p>
<ul>
<li>fileio.mkdir <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-fileio-0000001168366687#section115231351102213">mkdir</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\mkdir.png" alt="mkdir"></p>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\mkdirp.png" alt="mkdirp"></p>
<ul>
<li>fileio.mkdirSync <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-fileio-0000001168366687#section7429185420224">mkdirSync</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\mkdirs.png" alt="mkdirs"></p>
<ul>
<li>fileio.open <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-fileio-0000001168366687#section1153565865716">open</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\fopen.png" alt="fopen"></p>
<ul>
<li>fileio.openSync <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-fileio-0000001168366687#section7431145402220">openSync</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\fopens.png" alt="fopens"></p>
<h4 id="3-文件存储file">3. 文件存储（file）</h4>
<ul>
<li>file.list <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-file-storag-0000000000629445#section748711572018">list</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\flist.png" alt="flist"></p>
<ul>
<li>file.access <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-file-storag-0000000000629445#section184415510912">access</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\sfacc.png" alt="sfacc"></p>
<ul>
<li>file.mkdir <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-file-storag-0000000000629445#section134651459103">mkdir</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.1\fmkdir.png" alt="fmkdir"></p>
<h4 id="4-一次较完整的启动记录">4. 一次较完整的启动记录</h4>
<pre><code><code><div>08-05 10:41:26.638  1998  1998 I 01000/AbilityManagerService: [ability_command.cpp(AbilityManagerShellCommand:84)]argv_[3]: napi.test.fmkdir
08-05 10:41:26.638  1998  1998 I 01000/AbilityManagerService: [ability_command.cpp(AbilityManagerShellCommand:84)]argv_[5]: napi.test
08-05 10:41:26.643   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_0
08-05 10:41:26.644   445   445 D 01120/BundleMgrService: [bundle_data_mgr.cpp(QueryAbilityInfo):402] bundle name:napi.test, ability name:napi.test.fmkdir
08-05 10:41:26.644   445   445 D 01120/BundleMgrService: [bundle_data_mgr.cpp(ExplicitQueryAbilityInfo):466] bundleName:napi.test, abilityName:napi.test.fmkdir
08-05 10:41:26.644   445   445 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetInnerBundleInfoWithFlags):1409] GetInnerBundleInfoWithFlags: napi.test
08-05 10:41:26.644   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.644   445   445 D 01000/AbilityManagerService: [ability_manager_service.cpp(GenerateAbilityRequest:2585)]Query ability name: napi.test.fmkdir, is stage mode: 0
08-05 10:41:26.645   445   445 D 01000/AbilityManagerService: [ability_manager_service.cpp(GenerateAbilityRequest:2599)]End, app name: napi.test, bundle name: napi.test, uid: 20010033
08-05 10:41:26.645   445   445 D 01120/BundleMgrService: [bundle_mgr_host_impl.cpp(GetBundleInfo):91] start GetBundleInfo, bundleName : napi.test, flags : 32, userId : 100
08-05 10:41:26.646   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_0
08-05 10:41:26.646   445   445 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetInnerBundleInfoWithFlags):1409] GetInnerBundleInfoWithFlags: napi.test
08-05 10:41:26.647   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetBundleWithAbilities):1733] bundleName:napi.test userid:100
08-05 10:41:26.647   445   445 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetBundleInfo):937] get bundleInfo(napi.test) successfully in user(100)
08-05 10:41:26.648   445   445 D 01000/AbilityManagerService: [ability_manager_service.cpp(StartAbilityInner:317)]StartAbilityInner PreLoadAppDataAbilities:napi.test
08-05 10:41:26.648   445   445 D 01120/BundleMgrService: [bundle_mgr_host_impl.cpp(GetBundleInfo):91] start GetBundleInfo, bundleName : napi.test, flags : 1, userId : 100
08-05 10:41:26.649   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_0
08-05 10:41:26.649   445   445 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetInnerBundleInfoWithFlags):1409] GetInnerBundleInfoWithFlags: napi.test
08-05 10:41:26.650   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetBundleWithAbilities):1733] bundleName:napi.test userid:100
08-05 10:41:26.650   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.650   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.650   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.650   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.651   445   445 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetBundleInfo):937] get bundleInfo(napi.test) successfully in user(100)
08-05 10:41:26.652   445   445 I 01000/AbilityManagerService: [ability_manager_service.cpp(PreLoadAppDataAbilities:2824)]App data abilities preloading for bundle 'napi.test'...
08-05 10:41:26.652   445   445 I 01000/AbilityManagerService: [ability_connect_manager.cpp(StartAbilityLocked:101)]Start ability locked, ability_name: /napi.test/napi.test.fmkdir
08-05 10:41:26.653   445  1337 D 01120/BundleMgrService: [bundle_mgr_host_impl.cpp(GetBundleInfo):91] start GetBundleInfo, bundleName : napi.test, flags : 0, userId : 100
08-05 10:41:26.654   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_0
08-05 10:41:26.654   445  1337 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetInnerBundleInfoWithFlags):1409] GetInnerBundleInfoWithFlags: napi.test
08-05 10:41:26.656   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetBundleWithAbilities):1733] bundleName:napi.test userid:100
08-05 10:41:26.656   445  1337 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetBundleInfo):937] get bundleInfo(napi.test) successfully in user(100)
08-05 10:41:26.656   445  1337 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetHapModuleInfo):1238] GetHapModuleInfo napi.test
08-05 10:41:26.656   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.657   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.658   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.658   445  1337 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_-1
08-05 10:41:26.658   445  1337 I 01110/AppMgrService: [app_mgr_service_inner.cpp(LoadAbility:143)]processName = [napi.test]
08-05 10:41:26.658   445  1337 I 01110/AppMgrService: [app_running_manager.cpp(CheckAppRunningRecordIsExist:69)]CheckAppRunningRecordIsExist appName : napi.test | processName : napi.test | uid : 20010033
08-05 10:41:26.658   445  1337 I 01110/AppMgrService: [app_running_manager.cpp(CheckAppRunningRecordIsExist:92)]appRecord-&gt;GetProcessName() : napi.test
08-05 10:41:26.658   445  1337 I 01110/AppMgrService: [app_running_manager.cpp(operator():96)]appInfo-&gt;name : napi.test
08-05 10:41:26.659   445  1337 I 01110/AppMgrService: [module_running_record.cpp(LaunchAbility:178)]ScheduleLaunchAbility ability:napi.test.fmkdir
08-05 10:41:26.662  1791  1793 I 01150/AppkitNative: [main_thread.cpp(ScheduleLaunchAbility:449)]MainThread::scheduleLaunchAbility, AbilityInfo name:napi.test.fmkdir type:2
08-05 10:41:26.664  1791  1793 D 01120/BundleMgrService: [bundle_mgr_proxy.cpp(GetBundleInfo):198] begin to get bundle info of napi.test
08-05 10:41:26.664   445   548 I 01120/BundleMgrService: [bundle_mgr_host.cpp(HandleGetBundleInfo):409] name napi.test, flag 0
08-05 10:41:26.664   445   548 D 01120/BundleMgrService: [bundle_mgr_host_impl.cpp(GetBundleInfo):91] start GetBundleInfo, bundleName : napi.test, flags : 0, userId : -2
08-05 10:41:26.666   445   548 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetInnerBundleInfoWithFlags):1409] GetInnerBundleInfoWithFlags: napi.test
08-05 10:41:26.667   445   548 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetBundleWithAbilities):1733] bundleName:napi.test userid:100
08-05 10:41:26.667   445   548 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetBundleInfo):937] get bundleInfo(napi.test) successfully in user(-2)
08-05 10:41:26.692   445   548 I 01000/AbilityManagerService: [ability_connect_manager.cpp(AttachAbilityThreadLocked:351)]Ability: /napi.test/napi.test.fmkdir
08-05 10:41:26.693   445  1337 I 01000/AbilityManagerService: [ability_connect_manager.cpp(OnAbilityRequestDone:366)]Ability: /napi.test/napi.test.fmkdir
08-05 10:41:26.694   445  1337 D 01110/AppMgrService: [app_mgr_service_inner.cpp(StateChangedNotifyObserver:1185)]bundle:napi.test, ability:napi.test.fmkdir, state:2, pid:1791,uid:20010033, abilityType:2
08-05 10:41:26.694  1791  1793 I 02200/Ability: [operation.cpp(DumpInfo:378)]===Operation::abilityName_ napi.test.fmkdir =============
08-05 10:41:26.694  1791  1793 I 02200/Ability: [operation.cpp(DumpInfo:380)]===Operation::bundleName_ napi.test =============
08-05 10:41:26.695   445  1337 D 01110/AppMgrService: [app_mgr_service_inner.cpp(OnAppStateChanged:1105)]OnForegroundApplicationChanged, size:5, name:napi.test, uid:20010033, state:2
08-05 10:41:26.695   338   444 D 01700/CgroupEventHandler: HandleAbilityStateChanged : 20010033, 1791, napi.test, napi.test.fmkdir, 2, 2
08-05 10:41:26.696   338   444 D 01700/CgroupEventHandler: HandleForegroundApplicationChanged : 20010033, napi.test, 2
08-05 10:41:26.696   341  1008 I 01100/MemMgr: AppStateObserver::OnAbilityStateChanged called, uid=20010033, pid=1791, bundleName=napi.test FOREGROUND
08-05 10:41:26.697   341  1040 I 01100/MemMgr: BundlePriorityInfo::UpdatePriority bundleName=napi.test, priority=0
08-05 10:41:26.698   341  1050 I 01100/MemMgr: ReclaimStrategyManager::HandleAppStateChanged_ pid:1791 bundle:20010033 napi.test userId:100 score:0 action:APP_FOREGROUND
08-05 10:41:26.698   341  1008 I 01100/MemMgr: AppStateObserver::OnForegroundApplicationChanged uid=20010033, bundleName=napi.test, state=2, 
08-05 10:41:26.698  1791  1791 I 01120/BundleMgrService: [bundle_mgr_proxy.cpp(GetHapModuleInfo):927] begin to GetHapModuleInfo of napi.test
08-05 10:41:26.700   445   548 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetHapModuleInfo):1238] GetHapModuleInfo napi.test
08-05 10:41:26.719   445   548 D 01120/BundleMgrService: [bundle_data_mgr.cpp(QueryAbilityInfos):437] bundle name:napi.test, ability name:napi.test.fmkdir
08-05 10:41:26.719   445   548 D 01120/BundleMgrService: [bundle_data_mgr.cpp(ExplicitQueryAbilityInfo):466] bundleName:napi.test, abilityName:napi.test.fmkdir
08-05 10:41:26.719   445   548 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetInnerBundleInfoWithFlags):1409] GetInnerBundleInfoWithFlags: napi.test
08-05 10:41:26.719   445   548 D 01120/BundleMgrService: [inner_bundle_info.cpp(IsAbilityEnabled):1983] IsAbilityEnabled bundleName:napi.test, userId:100
08-05 10:41:26.727   445   548 D 01000/AbilityManagerService: [ability_manager_service.cpp(AbilityTransitionDone:2203)]state:1  name:napi.test.fmkdir
08-05 10:41:26.727   445   548 I 01000/AbilityManagerService: [ability_connect_manager.cpp(AbilityTransitionDone:404)]Ability: /napi.test/napi.test.fmkdir, state: INACTIVE
08-05 10:41:26.728   445  1337 D 01110/AppMgrService: [app_mgr_service_inner.cpp(StateChangedNotifyObserver:1185)]bundle:napi.test, ability:napi.test.fmkdir, state:0, pid:1791,uid:20010033, abilityType:2
08-05 10:41:26.730   341   341 I 01100/MemMgr: AppStateObserver::OnAbilityStateChanged called, uid=20010033, pid=1791, bundleName=napi.test Skiped!
08-05 10:41:26.732   445   548 D 01000/AbilityManagerService: [ability_connect_manager.cpp(ScheduleCommandAbilityDoneLocked:521)]Ability: /napi.test/napi.test.fmkdir
08-05 10:41:26.734   338   444 D 01700/CgroupEventHandler: HandleAbilityStateChanged : 20010033, 1791, napi.test, napi.test.fmkdir, 0, 2
08-05 10:41:26.847  1791  2004 I 02200/Ability: [napi_common_want.cpp(WrapElementName:70)]WrapElementName called. GetBundleName=napi.test
08-05 10:41:26.847  1791  2004 I 02200/Ability: [napi_common_want.cpp(WrapElementName:75)]WrapElementName called. GetAbilityName=napi.test.fmkdir
08-05 10:42:00.008   445   445 D 01120/BundleMgrService: [inner_bundle_info.cpp(GetInnerBundleUserInfo):1928] no this user napi.test_0
08-05 10:42:00.029   445  1277 D 01120/BundleMgrService: [bundle_data_mgr.cpp(GetInnerBundleInfoWithFlags):1409] GetInnerBundleInfoWithFlags: napi.test
</div></code></code></pre>
<p>PS： /data/log/faultlog/faultlogger 中没有一个fault记录</p>
<h3 id="32-beta">3.2 beta</h3>
<p>由于之前怀疑是运行时在3.1 release时仍存在一定问题，所以在测试问题时同时制作了当前最新的3.2 beta文件系统，发现运行记录相比更加完整，但是仍无法找到确切问题所在，且运行时报错无法解决，如下图Error message信息，基本上所有无法正常输出的API接口，jscrash原因均相同</p>
<pre><code><code><div>Error message: Obj is not a valid object
Cannot get SourceMap info, dump raw stack.
</div></code></code></pre>
<h4 id="1-ability上下文context-1">1. Ability上下文（context）</h4>
<ul>
<li>context.getCacheDir <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-context-0000001155007622#section11170623297">getCacheDir</a></li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.2\gcdir.png" alt="gcdir">
<img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.2\gcdir1.png" alt="gcdir1"></p>
<ul>
<li>
<p>context.getFilesDir <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-context-0000001155007622#section833813353294">getFilesDir</a></p>
</li>
<li>
<p>context.getOrCreateLocalDir <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-context-0000001155007622#section9297053217">getOrCreateLocalDir</a></p>
</li>
</ul>
<h4 id="2-文件管理fileio-1">2. 文件管理（fileio）</h4>
<ul>
<li>
<p>fileio.access <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-fileio-0000001168366687#section7992924105416">access</a></p>
</li>
<li>
<p>fileio.accessSync <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-fileio-0000001168366687#section9627104782212">accessSync</a></p>
</li>
<li>
<p>fileio.mkdir <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-fileio-0000001168366687#section115231351102213">mkdir</a></p>
</li>
<li>
<p>fileio.mkdirSync <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-fileio-0000001168366687#section7429185420224">mkdirSync</a></p>
</li>
<li>
<p>fileio.open <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-fileio-0000001168366687#section1153565865716">open</a></p>
</li>
<li>
<p>fileio.openSync <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-fileio-0000001168366687#section7431145402220">openSync</a></p>
</li>
</ul>
<h4 id="3-文件存储file-1">3. 文件存储（file）</h4>
<ul>
<li>
<p>file.list <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-file-storag-0000000000629445#section748711572018">list</a></p>
</li>
<li>
<p>file.access <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-file-storag-0000000000629445#section184415510912">access</a></p>
</li>
<li>
<p>file.mkdir <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references/js-apis-file-storag-0000000000629445#section134651459103">mkdir</a></p>
</li>
</ul>
<p><img src="file:///e:\公共的\问题描述_罗朝欣\hap_result\3.2\sum.png" alt="sum"></p>
<h4 id="4-较完整的启动记录">4. 较完整的启动记录</h4>
<pre><code><code><div># hilog | grep napi.test                                                                                                                                                                                          
08-05 09:11:37.578  1838  1838 I 01000/AbilityManagerService: [ability_command.cpp(AbilityManagerShellCommand:74)]argv_[3]: napi.test.sfacc
08-05 09:11:37.578  1838  1838 I 01000/AbilityManagerService: [ability_command.cpp(AbilityManagerShellCommand:74)]argv_[5]: napi.test
08-05 09:11:37.587   511   511 I 01000/AbilityManagerService: [ability_manager_service.cpp(PreLoadAppDataAbilities:2744)]App data abilities preloading for bundle 'napi.test'...
08-05 09:11:37.587   511   511 I 01000/AbilityManagerService: [ability_connect_manager.cpp(StartAbilityLocked:100)]Start ability locked, ability_name: /napi.test/napi.test.sfacc
08-05 09:11:37.588   511  1285 I 01110/AppMgrService: [app_mgr_service_inner.cpp(LoadAbility:132)]AppMgrService start loading ability, name is napi.test.sfacc.
08-05 09:11:37.592   511  1285 I 01110/AppMgrService: [app_running_manager.cpp(CheckAppRunningRecordIsExist:79)]appName: napi.test, processName: napi.test, uid : 20010034
08-05 09:11:37.592   511  1285 I 01110/AppMgrService: [app_running_manager.cpp(CreateAppRunningRecord:68)]Create AppRunningRecord, processName: napi.test, recordId: 12
08-05 09:11:37.609   511  1285 I 01110/AppMgrService: [app_spawn_msg_wrapper.cpp(DumpMsg:136)]uid: 20010034, gid: 20010034, procName: napi.test
08-05 09:11:37.611   241   241 I 0a011/APPSPAWN: [appspawn_service.c:327]OnReceiveRequest client.id 12 appProperty 20010034 processname napi.test buffLen 2108 flags 0x0
08-05 09:11:37.622  1844  1844 I 02d0a/HiDebug_Native: napi.test debug params not found.
08-05 09:11:37.627  1844  1844 E 00000/AppSpawn_SandboxUtil: CheckAppSandboxSwitchStatus total start, napi.test
08-05 09:11:37.627  1844  1844 E 00000/AppSpawn_SandboxUtil: CheckAppSandboxSwitchStatus start, napi.test
08-05 09:11:37.632  1844  1844 E 00000/AppSpawn_SandboxUtil: CheckAppSandboxSwitchStatus start, napi.test
08-05 09:11:37.632  1844  1844 E 00000/AppSpawn_SandboxUtil: CheckAppSandboxSwitchStatus total start, napi.test
08-05 09:11:37.636  1844  1844 I 0a011/APPSPAWN: [appspawn_service.c:381]NotifyResToParent napi.test fd 12 result 0
08-05 09:11:37.637   241   241 I 0a011/APPSPAWN: [appspawn_service.c:338]child process napi.test success pid 1844
08-05 09:11:37.637   241   241 I 0a011/APPSPAWN: [appspawn_service.c:93]Add napi.test, pid=1844 success
08-05 09:11:37.638   511  1285 I 01110/AppMgrService: [app_mgr_service_inner.cpp(StartProcess:1296)]Start process success, pid is 1844, processName is napi.test.
08-05 09:11:37.638   511  1285 I 01110/AppMgrService: [app_mgr_service_inner.cpp(OnAppStateChanged:1121)]OnApplicationStateChanged, name:napi.test, uid:20010034, state:0
08-05 09:11:37.644   298   592 I 01100/MemMgr: ReclaimStrategyManager::HandleProcessCreate_ succ, pid:1844 bundle:20010034 napi.test userId:100 score:0 action:CREATE_PROCESS_AND_APP
08-05 09:11:37.655   511  1285 I 01110/AppMgrService: [app_running_record.cpp(LaunchApplication:333)]Schedule launch application, app is napi.test.
08-05 09:11:37.656   511  1285 I 01110/AppMgrService: [module_running_record.cpp(LaunchAbility:177)]Schedule launch ability, name is napi.test.sfacc.
08-05 09:11:37.658  1844  1844 I 01150/AppkitNative: [main_thread.cpp(LoadAbilityLibrary:1653)]MainThread::LoadAbilityLibrary Try to scanDir /data/storage/el1/bundle/napi.test
08-05 09:11:37.658  1844  1844 E 01150/AppkitNative: [main_thread.cpp(ScanDir:1723)]MainThread::ScanDir open dir:/data/storage/el1/bundle/napi.test/libs fail
08-05 09:11:37.658  1844  1844 I 01150/AppkitNative: [main_thread.cpp(LoadAbilityLibrary:1659)]MainThread::LoadAbilityLibrary scanDir /data/storage/el1/bundle/napi.test/libs not exits
08-05 09:11:37.659  1844  1845 I 01150/AppkitNative: [main_thread.cpp(ScheduleLaunchAbility:452)]MainThread schedule launch ability, name is napi.test.sfacc, type is 2.
08-05 09:11:37.662   511   511 I 01120/BundleMgrService: [bundle_mgr_host.cpp(HandleGetBundleInfo):418] name napi.test, flag 0
08-05 09:11:37.671   511  1830 I 01120/BundleMgrService: [bundle_mgr_host.cpp(HandleGetBundleInfo):418] name napi.test, flag 0
08-05 09:11:37.717  1844  1844 I 01150/AppkitNative: [main_thread.cpp(InitResourceManager:734)]MainThread::handleLaunchApplication length: 63, moduleResPath: /data/storage/el1/bundle/napi.test/assets/entry/resources.index
08-05 09:11:37.734  1844  1844 I 01120/BundleMgrService: [bundle_mgr_proxy.cpp(GetHapModuleInfo):1080] begin to GetHapModuleInfo of napi.test
08-05 09:11:37.764  1844  1844 I 02200/Ability: [ability_thread.cpp(Attach:212)]Attach ability begin, ability:napi.test.sfacc.
08-05 09:11:37.768   511  1830 I 01000/AbilityManagerService: [ability_connect_manager.cpp(AttachAbilityThreadLocked:354)]Ability: /napi.test/napi.test.sfacc
08-05 09:11:37.768   511  1830 I 01000/AbilityManagerService: [ability_record.cpp(Inactivate:461)]Inactivate ability start, ability:napi.test.sfacc.
08-05 09:11:37.769  1844  1845 I 02200/Ability: [ability_thread.cpp(ScheduleAbilityTransaction:724)]Schedule ability transaction, name is napi.test.sfacc, targeState is 1, isNewWant is 0.
08-05 09:11:37.769  1844  1844 I 02200/Ability: [ability_thread.cpp(HandleAbilityTransaction:441)]Handle ability transaction begin, name is napi.test.sfacc.
08-05 09:11:37.769  1844  1844 I 02200/Ability: [ability.cpp(OnStart:213)]OnStart begin, ability is napi.test.sfacc.
08-05 09:11:37.772  1844  1844 I 01120/BundleMgrService: [bundle_mgr_proxy.cpp(GetHapModuleInfo):1080] begin to GetHapModuleInfo of napi.test
08-05 09:11:37.822   511  1830 I 01000/AbilityManagerService: [ability_connect_manager.cpp(AbilityTransitionDone:407)]Ability: /napi.test/napi.test.sfacc, state: INACTIVE
</div></code></code></pre>
<p>相比3.1 Release版本，3.2 beta的hilog调试信息可读性更好一些</p>
<h2 id="其他">其他</h2>
<p>附HAP工程于all目录，签名和证书于ohosKey_xc目录，bundle_name: napi.test</p>

        
        
    </body>
    </html>